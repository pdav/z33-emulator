let e;const n=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});n.decode();let t=new Uint8Array;function r(){return 0===t.byteLength&&(t=new Uint8Array(e.memory.buffer)),t}function o(e,t){return n.decode(r().subarray(e,e+t))}const a=new Array(32).fill(void 0);a.push(void 0,null,!0,!1);let i=a.length;function c(e){i===a.length&&a.push(a.length+1);const n=i;return i=a[n],a[n]=e,n}function s(e){return a[e]}function d(e){const n=s(e);return function(e){e<36||(a[e]=i,i=e)}(e),n}let u=0;const l=new TextEncoder("utf-8"),b="function"==typeof l.encodeInto?function(e,n){return l.encodeInto(e,n)}:function(e,n){const t=l.encode(e);return n.set(t),{read:e.length,written:t.length}};let f=new Int32Array;function w(){return 0===f.byteLength&&(f=new Int32Array(e.memory.buffer)),f}function _(){const e={wbg:{}};return e.wbg.__wbindgen_error_new=function(e,n){return c(new Error(o(e,n)))},e.wbg.__wbindgen_object_drop_ref=function(e){d(e)},e.wbg.__wbindgen_string_new=function(e,n){return c(o(e,n))},e.wbg.__wbindgen_number_new=function(e){return c(e)},e.wbg.__wbg_set_20cbc34131e76824=function(e,n,t){s(e)[d(n)]=d(t)},e.wbg.__wbindgen_object_clone_ref=function(e){return c(s(e))},e.wbg.__wbg_new_1d9a920c6bfc44a8=function(){return c(new Array)},e.wbg.__wbg_new_268f7b7dd3430798=function(){return c(new Map)},e.wbg.__wbg_new_0b9bfdd97583284e=function(){return c(new Object)},e.wbg.__wbg_set_a68214f35c417fa9=function(e,n,t){s(e)[n>>>0]=d(t)},e.wbg.__wbg_set_933729cf5b66ac11=function(e,n,t){return c(s(e).set(s(n),s(t)))},e.wbg.__wbindgen_is_string=function(e){return"string"==typeof s(e)},e.wbg.__wbindgen_throw=function(e,n){throw new Error(o(e,n))},e}function m(n,r){return e=n.exports,p.__wbindgen_wasm_module=r,f=new Int32Array,t=new Uint8Array,e}async function p(e){void 0===e&&(e=new URL("index_bg.wasm",import.meta.url));const n=_();("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));const{instance:t,module:r}=await async function(e,n){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,n)}catch(n){if("application/wasm"==e.headers.get("Content-Type"))throw n;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",n)}const t=await e.arrayBuffer();return await WebAssembly.instantiate(t,n)}{const t=await WebAssembly.instantiate(e,n);return t instanceof WebAssembly.Instance?{instance:t,module:e}:t}}(await e,n);return m(t,r)}var g=Object.freeze({__proto__:null,dump:function(n){try{const a=e.__wbindgen_add_to_stack_pointer(-16),i=function(e,n,t){if(void 0===t){const t=l.encode(e),o=n(t.length);return r().subarray(o,o+t.length).set(t),u=t.length,o}let o=e.length,a=n(o);const i=r();let c=0;for(;c<o;c++){const n=e.charCodeAt(c);if(n>127)break;i[a+c]=n}if(c!==o){0!==c&&(e=e.slice(c)),a=t(a,o,o=c+3*e.length);const n=r().subarray(a+c,a+o);c+=b(e,n).written}return u=c,a}(n,e.__wbindgen_malloc,e.__wbindgen_realloc),c=u;e.dump(a,i,c);var t=w()[a/4+0],o=w()[a/4+1];if(w()[a/4+2])throw d(o);return d(t)}finally{e.__wbindgen_add_to_stack_pointer(16)}},initSync:function(e){const n=_();return e instanceof WebAssembly.Module||(e=new WebAssembly.Module(e)),m(new WebAssembly.Instance(e,n),e)},default:p});const y={directives:()=>import("./directives-1b9bb998.js"),fact:()=>import("./fact-802ed56d.js"),handler:()=>import("./handler-bc83784d.js")},h=(e,n)=>{const t=document.createElement("section"),r=document.createElement("h4");r.appendChild(document.createTextNode(e));const o=document.createElement("output");return t.appendChild(r),t.appendChild(o),n.appendChild(t),o};(async()=>{const e=document.createElement("main"),n=document.createElement("div");n.classList.add("editor-container"),n.classList.add("loading"),e.appendChild(n);const t=document.createElement("pre");t.classList.add("result"),e.appendChild(t);const r=h("Console",t),o=h("Memory",t),a=h("Labels",t),i=h("Preprocessor",t),c=h("AST",t);r.value="Loading compiler...",document.body.appendChild(e);const{dump:s}=await(async(e={})=>{let{importHook:n,serverPath:t}=e,r="assets/z33_web-95fc105d.wasm";return null!=t&&(r=t+/[^\/\\]*$/.exec(r)[0]),null!=n&&(r=n(r)),await p(r),g})(),d=await import("./monaco-9b7bdab5.js");n.classList.remove("loading");const u=d.editor.createModel("","text/plain"),l=document.createElement("div");l.classList.add("selector"),n.appendChild(l),l.appendChild(document.createTextNode("Load sample: ")),Object.entries(y).forEach((([e,n])=>{const t=document.createElement("button");t.appendChild(document.createTextNode(e)),t.addEventListener("click",(async()=>{const e=await n();u.setValue(e.default)})),t.addEventListener("mouseover",(()=>n())),l.appendChild(t)}));const b=document.createElement("div");b.classList.add("editor"),n.appendChild(b),d.editor.create(b,{automaticLayout:!0,theme:"vs-dark"}).setModel(u);const f=()=>{const e=u.getValue(),n=s(e);r.value=n.error||"-",c.value=n.ast||"-",i.value=n.preprocessed||"-",o.value=n.memory.map((([e,n])=>`${e}\t${n}`)).join("\n"),a.value=JSON.stringify(Object.fromEntries([...n.labels]))};u.onDidChangeContent((()=>f())),f()})();
//# sourceMappingURL=index.js.map
